## <sub><img src="koshian_image_popuper/icons/icon-48.png"></sub> KOSHIAN カタログの画像をポップアップで表示 改
このFirefoxアドオンはふたば☆ちゃんねるのカタログのスレ画像をポップアップ表示する[Pachira](https://addons.mozilla.org/ja/firefox/user/anonymous-a0bba9187b568f98732d22d51c5955a6/)氏の[KOSHIAN カタログの画像をポップアップで表示](https://addons.mozilla.org/ja/firefox/addon/koshian-image-popuper/)の非公式改変版です。  
ポップアップにスレ本文を表示する機能やポップアップをクリックしてスレを開く機能などをオリジナル版に追加しています。  

※このアドオンはWebExtensionアドオン対応のFirefox専用となります。  
※他のKOSHIAN改変版などのふたば支援ツールは[こちら](https://github.com/akoya-tomo/futaba_auto_reloader_K/wiki/)。  

## 機能
* オリジナルの機能（KOSHIAN カタログの画像をポップアップで表示）
  - ふたば☆ちゃんねるのカタログのスレ画像をポップアップ表示
* 追加・修正された機能（KOSHIAN カタログの画像をポップアップで表示 改）
  - ポップアップにスレ本文を表示する（デフォルト：無効）  
  有効にするとポップアップ画像の下にスレ本文とレス数が表示されます。  
  サムネ使用時はスレ本文の表示文字数はカタログ設定文字数となります。
  - ポップアップのリンクを有効にする（デフォルト：無効）  
  ポップアップをクリックしてスレを開くことができます。  
  WebM・mp4は「動画のコントロールを表示」オプションが無効のときのみリンクが有効になります。  
  - ポップアップにスレ画像のサムネを使用する（デフォルト：無効）  
  有効にするとポップアップにスレ画像のサムネを使用します。ポップアップの読み込みが重いときに効果が期待できます。WebM・mp4はサムネが表示されポップアップ上では動画再生できません。  
  無効にするとオリジナルサイズのスレ画像を使用します。  
  - スレ画像が404エラー\(Not Found\)の時にNoImage画像を表示  
  ポップアップ画像を読み込むときにスレが消えていたらNoImage画像が表示されます。  
  - 過剰なリクエストの抑制  
    サーバーへの過剰なリクエストを抑制しました。デメリットとしてポップアップまでの時間の最小値が300ミリ秒に制限されます。表示の遅れが気になるときはサムネ使用をご検討下さい。  

## インストール
**GitHub**  
[![インストールボタン](images/install_button.png "クリックでアドオンをインストール")](https://github.com/akoya-tomo/koshian_image_popuper_kai/releases/download/v1.4.1/koshian_image_popuper_kai-1.4.1-an.fx.xpi)  

※「接続エラーのため、アドオンをダウンロードできませんでした。」と表示されてインストール出来ない時はリンクを右クリックしてxpiファイルをダウンロードし、メニューのツール→アドオン（またはCtrl+Shift+A）で表示されたアドオンマネージャーのページにxpiファイルをドラッグ＆ドロップして下さい。  

## 追加機能の補足
* スレ本文がポップアップ画像の横幅をはみ出る場合は省略されます。  
* スレ本文がウィンドウ外に見切れるときはポップアップの最大縦幅を調整して下さい。  
* スレ本文表示時は文字数確保のため、ポップアップの最小横幅が100pxになります。

## 注意事項
* 本アドオンを有効にしたときはオリジナル版を無効にするか削除して下さい。  
* オリジナル版とは別アドオンなので設定は初期値に戻ります。  
  再度設定をお願い致します。  
* [futaba catalog NG](https://greasyfork.org/ja/scripts/37565-futaba-catalog-ng/)スクリプトを使用する場合は必ずfutaba catalog NG v1.2.6以上をインストールして下さい。

## 既知の問題
* スレのメール欄に「・3・」でIP表示したときにスレ本文より先にIPが表示されてしまう。  

## 更新履歴
* v1.4.1 2018-06-29
  - フレーム表示のカタログで動作するように修正
* v1.4.0 2018-06-04
  - mp4のポップアップに対応
* v1.3.1 2018-06-01
  - 赤福でポップアップが最前面になるように修正
* v1.3.0 2018-04-26
  - ポップアップにスレ本文を表示するオプションを追加
* v1.2.1 2018-04-10
  - 画像へのマウスオーバーのタイミングでポップアップしないことがある不具合修正
* v1.2.0 2018-03-24
  - サーバーへの過剰なリクエストを抑制
* v1.1.0 2018-03-15
  - ポップアップのリンクを有効にするオプションを追加
  - ポップアップにスレ画像のサムネを使用するオプションを追加
  - ポップアップに背景色を設定
  - ポップアップを多重に読み込む不具合を修正
  - アドオンの自動更新を有効化
* v1.0.1 2017-12-17
  - NoImageの表示サイズが無駄に大きかったので調整
* v1.0.0 2017-12-17
  - KOSHIAN カタログの画像をポップアップで表示 v1.0.4ベース
  - スレ画像が404の時にNoImageを表示する機能を追加
